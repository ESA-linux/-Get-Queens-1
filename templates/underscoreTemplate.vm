/**
 * This template was generated by the UnderscoreTemplateWebResourceTransformer.
 */
UPM.define("${moduleName}", ["underscore", "UpmEnvironment", "UpmFormats"], function(_, environment, formats) {
	var t = _.template("${templateContentWithHtml}"),
		autoParams = { environment: environment, formats: formats };
	return function(params) {
		var output = t(_.extend({}, autoParams, params));
		// we often parse the output into a JQuery object; JQuery does not like to see
		// whitespace in front of a tag.
		var trimmed = output.trim();
		return (output.substr(0, 1) !== '<' && trimmed.substr(0, 1) === '<') ? trimmed : output;
	};
});
